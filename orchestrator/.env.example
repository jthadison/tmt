# Trading System Orchestrator Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# OANDA Configuration (REQUIRED)
# ============================================================================
# Get your API key from: https://www.oanda.com/account/tpa/personal_token
OANDA_API_KEY=your_api_key_here
OANDA_ACCOUNT_IDS=your_account_id_here
OANDA_ENVIRONMENT=practice  # practice or live
OANDA_BASE_URL=https://api-fxpractice.oanda.com

# ============================================================================
# Application Configuration
# ============================================================================
ENVIRONMENT=development  # development, test, production
DEBUG=true
LOG_LEVEL=INFO
HOST=0.0.0.0
PORT=8000

# ============================================================================
# Agent Configuration
# ============================================================================
AGENT_DISCOVERY_PORT=8000
AGENT_HEALTH_CHECK_INTERVAL=30
AGENT_STARTUP_TIMEOUT=60
AGENT_REQUEST_TIMEOUT=10

# ============================================================================
# Trading Risk Management (CRITICAL - REVIEW CAREFULLY)
# ============================================================================
# Maximum number of trades that can run simultaneously
MAX_CONCURRENT_TRADES=3

# Risk per trade as a percentage of account balance (0.02 = 2%)
RISK_PER_TRADE=0.02

# Maximum daily loss as a percentage of account balance (0.06 = 6%)
MAX_DAILY_LOSS=0.06

# Circuit breaker threshold - stops all trading (0.10 = 10% loss)
CIRCUIT_BREAKER_THRESHOLD=0.10

# ============================================================================
# Safety Configuration
# ============================================================================
# Whether to automatically close all positions during emergency stop
EMERGENCY_CLOSE_POSITIONS=true

# Maximum position size in units
MAX_POSITION_SIZE=100000

# Maximum trades per hour (rate limiting)
MAX_TRADES_PER_HOUR=10

# ============================================================================
# Message Broker / Event Bus
# ============================================================================
MESSAGE_BROKER_URL=redis://localhost:6379
EVENT_RETENTION_HOURS=24

# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgresql://trader:password@localhost:5432/trading_system
TIMESCALE_URL=postgresql://trader:password@localhost:5432/market_data

# ============================================================================
# Monitoring and Metrics
# ============================================================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
PROMETHEUS_PORT=9090

# ============================================================================
# Security Configuration
# ============================================================================
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# Agent Endpoints (Auto-discovery or manual configuration)
# ============================================================================
# These will be auto-discovered if agents register themselves
# Otherwise, configure manually:

# MARKET_ANALYSIS_ENDPOINT=http://localhost:8001
# STRATEGY_ANALYSIS_ENDPOINT=http://localhost:8002
# PARAMETER_OPTIMIZATION_ENDPOINT=http://localhost:8003
# LEARNING_SAFETY_ENDPOINT=http://localhost:8004
# DISAGREEMENT_ENGINE_ENDPOINT=http://localhost:8005
# DATA_COLLECTION_ENDPOINT=http://localhost:8006
# CONTINUOUS_IMPROVEMENT_ENDPOINT=http://localhost:8007
# PATTERN_DETECTION_ENDPOINT=http://localhost:8008