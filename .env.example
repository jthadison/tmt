# ============================================================================
# TMT Trading System - Consolidated Environment Configuration Template
# ============================================================================
# SECURITY WARNING: This file is a TEMPLATE with placeholder values
# - Copy this file to .env and replace all placeholder values
# - DO NOT commit .env file to version control
# - Keep backups in secure locations only
# - Rotate API keys regularly
# ============================================================================

# ============================================================================
# Global Application Settings
# ============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# ============================================================================
# OANDA Trading API Configuration (SHARED - All Services)
# ============================================================================
# Get your API key from: https://www.oanda.com/account/tpa/personal_token
OANDA_API_KEY=your_api_key_here
OANDA_ACCOUNT_ID=your_account_id_here
OANDA_ACCOUNT_IDS=your_account_id_here
OANDA_ENVIRONMENT=practice
OANDA_BASE_URL=https://api-fxpractice.oanda.com

# ============================================================================
# Orchestrator Service Configuration
# ============================================================================
ENABLE_TRADING=true
HOST=0.0.0.0
PORT=8000
AGENT_DISCOVERY_PORT=8000
AGENT_HEALTH_CHECK_INTERVAL=30
AGENT_STARTUP_TIMEOUT=60
AGENT_REQUEST_TIMEOUT=10

# ============================================================================
# Execution Engine Configuration
# ============================================================================
# Service Port
EXECUTION_ENGINE_PORT=8082

# Paper Trading
PAPER_TRADING_MODE=false
PAPER_TRADING_BALANCE=100000
PAPER_TRADING_MAX_POSITION_SIZE=1000

# ============================================================================
# Trading Risk Management (SHARED - All Trading Services)
# ============================================================================
MAX_CONCURRENT_TRADES=3
RISK_PER_TRADE=0.02
MAX_DAILY_LOSS=0.06
CIRCUIT_BREAKER_THRESHOLD=0.10
EMERGENCY_CLOSE_POSITIONS=true
MAX_POSITION_SIZE=10000
MAX_TRADES_PER_HOUR=10

# Execution Engine specific risk limits
MAX_RISK_PERCENT=0.02
MAX_CONCURRENT_POSITIONS=5
MAX_DAILY_TRADES=10

# ============================================================================
# Database Configuration (SHARED)
# ============================================================================
DATABASE_URL=postgresql://trader:password@localhost:5432/trading_system
TIMESCALE_URL=postgresql://trader:password@localhost:5432/market_data

# ============================================================================
# Message Broker / Event Bus (SHARED)
# ============================================================================
MESSAGE_BROKER_URL=redis://localhost:6379
REDIS_URL=redis://localhost:6379
EVENT_RETENTION_HOURS=24
KAFKA_BROKERS=localhost:9092

# ============================================================================
# Monitoring and Metrics (SHARED)
# ============================================================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
PROMETHEUS_PORT=9090
PROMETHEUS_PUSHGATEWAY=http://localhost:9091
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ============================================================================
# Security Configuration (SHARED)
# ============================================================================
JWT_SECRET_KEY=test-secret-key-development-only
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Secrets Management
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=dev-token-trading-system

# ============================================================================
# Notification Configuration (SHARED)
# ============================================================================
NOTIFICATIONS_ENABLED=true

# Slack Configuration
# Get webhook URL from: https://api.slack.com/apps -> Your App -> Incoming Webhooks
SLACK_WEBHOOK_URL=your_slack_webhook_url_here
SLACK_CHANNEL=new-trade-alert

# Discord Configuration (optional)
# Get webhook URL from Discord channel settings -> Integrations -> Webhooks
DISCORD_WEBHOOK_URL=

# Email Configuration (future use)
EMAIL_NOTIFICATIONS=false

# ============================================================================
# Agent Configuration (SHARED - All AI Agents)
# ============================================================================
AGENT_LOG_LEVEL=INFO

# ============================================================================
# Autonomous Learning Agent Configuration (Learning Safety Agent)
# ============================================================================
# Feature flag to enable/disable autonomous learning loop
ENABLE_AUTONOMOUS_LEARNING=true

# Learning cycle interval in seconds (default: 86400 = 24 hours)
# Can be reduced for testing (e.g., 300 = 5 minutes)
LEARNING_CYCLE_INTERVAL=86400

# Minimum trades required for statistical significance (default: 20)
# Prevents parameter suggestions based on insufficient sample sizes
LEARNING_MIN_TRADES=20

# Database path for trade history (default: orchestrator/data/trading_system.db)
TRADING_DB_PATH=orchestrator/data/trading_system.db

# ============================================================================
# Auto-Deployment Configuration (Learning Safety Agent)
# ============================================================================
# Auto-deployment validation thresholds
AUTO_DEPLOY_MIN_IMPROVEMENT=0.20
AUTO_DEPLOY_MAX_PVALUE=0.05
AUTO_DEPLOY_ROLLBACK_THRESHOLD=0.15
AUTO_DEPLOY_COOLDOWN_DAYS=7
AUTO_DEPLOY_APPROVAL_THRESHOLD=0.10

# Gradual rollout configuration
AUTO_DEPLOY_STAGE_DURATION_DAYS=2

# ============================================================================
# Continuous Improvement Pipeline Configuration
# ============================================================================
# Feature flag to enable/disable CI pipeline
CI_PIPELINE_ENABLED=true

# CI pipeline cycle interval in seconds (default: 21600 = 6 hours)
# Can be reduced for testing (e.g., 300 = 5 minutes)
CI_PIPELINE_INTERVAL=21600

# ============================================================================
# Dashboard Configuration (Next.js)
# ============================================================================
# Dashboard runs on port 3003
# API URL for dashboard to connect to orchestrator
NEXT_PUBLIC_API_URL=http://localhost:8000
